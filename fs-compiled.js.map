{"version":3,"sources":["fs.js"],"names":[],"mappings":"AAAA;;;AAGI;AACJ,MAAM,KAAK,QAAQ,IAAR,CAAX;AACA,QAAQ,GAAR,CAAY,UAAZ;AACA;AACA,MAAM,OAAO,GAAG,YAAH,CAAgB,4BAAhB,CAAb;AACA,QAAQ,GAAR,CAAY,OAAO,IAAnB;AACA,QAAQ,GAAR,CAAY,KAAK,QAAL,EAAZ;AACA,QAAQ,GAAR,CAAY,qBAAZ;;AAEA;AACA,QAAQ,GAAR,CAAY,WAAZ;AACA;AACA;AACA,GAAG,QAAH,CAAY,4BAAZ,EAAyC,CAAC,GAAD,EAAK,IAAL,KAAY;AACjD,QAAG,GAAH,EAAO;AAAC,gBAAQ,KAAR,CAAc,IAAI,KAAlB,EAAyB;AAAQ;AACzC,YAAQ,GAAR,CAAY,KAAK,QAAL,EAAZ;AACH,CAHD;AAIA,QAAQ,GAAR,CAAY,iBAAZ;;AAEA;AACA;AACA;AACA,IAAI,aAAa,GAAG,gBAAH,CAAoB,yBAApB,CAAjB;AACA;AACA,WAAW,WAAX,CAAuB,OAAvB;AACA;AACA,IAAI,IAAI,EAAR;AACA,WAAW,EAAX,CAAc,MAAd,EAAqB,UAAS,KAAT,EAAe;AAChC,SAAG,KAAH;AACH,CAFD;AAGA,WAAW,EAAX,CAAc,KAAd,EAAoB,YAAU;AAC1B,YAAQ,GAAR,CAAY,CAAZ;AACH,CAFD;AAGA,WAAW,EAAX,CAAc,OAAd,EAAsB,UAAS,GAAT,EAAa;AAC/B,YAAQ,GAAR,CAAY,IAAI,KAAhB;AACH,CAFD;AAGA,QAAQ,GAAR,CAAY,YAAZ;;AAEA;AACA;AACA,IAAI,cAAc,GAAG,iBAAH,CAAqB,0BAArB,CAAlB;;AAEA,YAAY,KAAZ,CAAkB,iBAAlB,EAAoC,MAApC,E,CAA4C;AAC5C;AACA,YAAY,GAAZ;;AAEA;AACA,YAAY,EAAZ,CAAe,QAAf,EAAwB,YAAU;AAC9B,YAAQ,GAAR,CAAY,MAAZ;AACH,CAFD;AAGA,YAAY,EAAZ,CAAe,OAAf,EAAuB,UAAS,GAAT,EAAa;AAChC,YAAQ,GAAR,CAAY,IAAI,KAAhB;AACH,CAFD;AAGA,QAAQ,GAAR,CAAY,YAAZ;;AAIA;;AAEA;AACA,IAAI,gBAAgB,GAAG,gBAAH,CAAoB,wBAApB,CAApB;AACA,IAAI,iBAAiB,GAAG,iBAAH,CAAqB,4BAArB,CAArB;AACA;AACA;AACA,cAAc,IAAd,CAAmB,cAAnB;;AAEA,QAAQ,GAAR,CAAY,UAAZ;;AAGA;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA","file":"fs-compiled.js","sourcesContent":["/**\n * Created by lea on 2017/10/10.\n */\n    //1、阻塞读取文件示例\nconst fs = require(\"fs\");\nconsole.log(\"阻塞读取文件示例\");\n//同步[阻塞]\nconst data = fs.readFileSync(\"./asserts/text/address.txt\");\nconsole.log(typeof data);\nconsole.log(data.toString());\nconsole.log(\"readFileSync程序执行结束。\");\n\n//2、非阻塞读取文件示例\nconsole.log(\"非阻塞读取文件示例\");\n//异步函数用于读取文件\n//异步【非阻塞】\nfs.readFile(\"./asserts/text/address.txt\",(err,data)=>{\n    if(err){console.error(err.stack);return;}\n    console.log(data.toString());\n});\nconsole.log(\"readFile程序执行结束。\");\n\n//3、读取流\n//读取流【读取某个文件的内容】\n//创建可读流\nlet readStream = fs.createReadStream(\"./asserts/text/test.txt\");\n//设置编码为UTF-8\nreadStream.setEncoding(\"UTF-8\");\n//处理流的事件【data:当有数据可读时触发，end:没有更多的数据可读时触发，】\nlet d = \"\";\nreadStream.on(\"data\",function(chunk){\n    d+=chunk;\n});\nreadStream.on(\"end\",function(){\n    console.log(d);\n});\nreadStream.on(\"error\",function(err){\n    console.log(err.stack);\n});\nconsole.log(\"读取流,程序执行完毕\");\n\n//4、写入流\n//写入流：向某个文件写入数据\nlet writeStream = fs.createWriteStream(\"./asserts/text/write.txt\");\n\nwriteStream.write(\"hello my lord1!\",\"utf8\");//使用 utf8 编码写入数据\n//// 标记文件末尾\nwriteStream.end();\n\n//处理流的事件【finish:所有数据已被写入到底层系统时触发】\nwriteStream.on(\"finish\",function(){\n    console.log(\"写入完成\");\n});\nwriteStream.on(\"error\",function(err){\n    console.log(err.stack);\n});\nconsole.log(\"写入流程序执行完毕！\");\n\n\n\n//5、管道流【从一个流中获取数据并将数据传递到另外一个流中】，\n\n//把pwd.txt文件中的数据传递给copyPwd.txt文件\nlet readPwdStream = fs.createReadStream(\"./asserts/text/pwd.txt\");\nlet writePwdStream = fs.createWriteStream(\"./asserts/text/copyPwd.txt\");\n/// 管道读写操作\n// 读取 pwd.txt 文件内容，并将内容写入到 copyPwd.txt 文件中\nreadPwdStream.pipe(writePwdStream);\n\nconsole.log(\"管道程序执行完毕\");\n\n\n//6、链式流【用管道和链式来压缩和解压文件。】【压缩和解压分开执行，先执行压缩，再执行解压】\nlet zlib = require('zlib');\n// 压缩 pwd.txt 文件为 pwd.txt.gz\n\n//fs.createReadStream('./asserts/text/pwd.txt')\n//    .pipe(zlib.createGzip())\n//    .pipe(fs.createWriteStream('./asserts/text/pwd.txt.gz'));\n//console.log(\"压缩程序结束\");\n\n//解压pwd.txt.gz为pwdOne.txt\n\n// fs.createReadStream('./asserts/text/pwd.txt.gz')\n//    .pipe(zlib.createGunzip())\n//    .pipe(fs.createWriteStream('./asserts/text/pwdOne.txt'));\n//console.log(\"解压程序完成。\");\n\n//7、打开文件：fs.open()\n"]}